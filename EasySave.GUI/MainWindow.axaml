<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:models="clr-namespace:EasySave.GUI.Models"
        mc:Ignorable="d" d:DesignWidth="1100" d:DesignHeight="700"
        x:Class="EasySave.GUI.MainWindow"
        Title="EasySave 3.0 - Gestionnaire de sauvegardes"
        Width="1100" Height="700"
        MinWidth="900" MinHeight="600"
        Background="White">

	<!--
        <summary>
            Global styles for controls (Button, TextBox, ComboBox, etc.)
        </summary>
    -->
	<Window.Styles>
		<Style Selector="Button">
			<Setter Property="Background" Value="#374151"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="CornerRadius" Value="4"/>
			<Setter Property="Padding" Value="18,10"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="HorizontalContentAlignment" Value="Center"/>
			<Setter Property="VerticalContentAlignment" Value="Center"/>
		</Style>
		<Style Selector="Button:pointerover">
			<Setter Property="Background" Value="#4B5563"/>
			<Setter Property="Foreground" Value="White"/>
		</Style>
		<Style Selector="Button:pointerover /template/ ContentPresenter">
			<Setter Property="Background" Value="#4B5563"/>
			<Setter Property="TextElement.Foreground" Value="White"/>
		</Style>

		<Style Selector="TextBox">
			<Setter Property="Background" Value="White"/>
			<Setter Property="Foreground" Value="#1F2937"/>
			<Setter Property="BorderBrush" Value="#D1D5DB"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="4"/>
			<Setter Property="Padding" Value="10,8"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="SelectionBrush" Value="Transparent"/>
			<Setter Property="SelectionForegroundBrush" Value="#1F2937"/>
		</Style>

		<Style Selector="ComboBox">
			<Setter Property="Background" Value="White"/>
			<Setter Property="Foreground" Value="#1F2937"/>
			<Setter Property="BorderBrush" Value="#D1D5DB"/>
			<Setter Property="CornerRadius" Value="4"/>
			<Setter Property="FontSize" Value="13"/>
		</Style>

		<Style Selector="ListBox">
			<Setter Property="Background" Value="White"/>
			<Setter Property="BorderBrush" Value="#E5E7EB"/>
			<Setter Property="BorderThickness" Value="1"/>
			<Setter Property="CornerRadius" Value="4"/>
		</Style>

		<Style Selector="ListBoxItem">
			<Setter Property="Padding" Value="12,10"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Foreground" Value="#1F2937"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Background" Value="Transparent"/>
		</Style>
		<Style Selector="ListBoxItem:pointerover /template/ ContentPresenter">
			<Setter Property="Background" Value="#E5E7EB"/>
		</Style>
		<Style Selector="ListBoxItem:selected /template/ ContentPresenter">
			<Setter Property="Background" Value="#374151"/>
		</Style>
		<Style Selector="ListBoxItem:selected">
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>
		<Style Selector="ListBoxItem:selected:pointerover /template/ ContentPresenter">
			<Setter Property="Background" Value="#4B5563"/>
		</Style>
		<Style Selector="ListBoxItem:selected:focus /template/ ContentPresenter">
			<Setter Property="Background" Value="#374151"/>
		</Style>

		<!-- Style pour les boutons de navigation sidebar -->
		<Style Selector="Button.sidebar-button">
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Foreground" Value="#6B7280"/>
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="CornerRadius" Value="0"/>
			<Setter Property="HorizontalAlignment" Value="Stretch"/>
			<Setter Property="Cursor" Value="Hand"/>
		</Style>
		<Style Selector="Button.sidebar-button:pointerover">
			<Setter Property="Background" Value="#F3F4F6"/>
			<Setter Property="Foreground" Value="#374151"/>
		</Style>
		<Style Selector="Button.sidebar-button.active">
			<Setter Property="Background" Value="#EFF6FF"/>
			<Setter Property="Foreground" Value="#3B82F6"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
		</Style>

		<Style Selector="TabItem">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Foreground" Value="#9CA3AF"/>
			<Setter Property="Padding" Value="16,10"/>
		</Style>
		<Style Selector="TabItem:pointerover">
			<Setter Property="Foreground" Value="#4B5563"/>
		</Style>
		<Style Selector="TabItem:selected">
			<Setter Property="Foreground" Value="#111827"/>
		</Style>
		<Style Selector="TabItem:selected:pointerover">
			<Setter Property="Foreground" Value="#1F2937"/>
		</Style>
		<Style Selector="TabItem:pointerover /template/ ContentPresenter">
			<Setter Property="TextElement.Foreground" Value="#4B5563"/>
		</Style>
		<Style Selector="TabItem:selected:pointerover /template/ ContentPresenter">
			<Setter Property="TextElement.Foreground" Value="#1F2937"/>
		</Style>

		<Style Selector="TextBlock">
			<Setter Property="TextElement.FontSize" Value="13"/>
		</Style>
	</Window.Styles>

	<!--
        <summary>
            Main layout grid for the window.
        </summary>
    -->
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!--
            <summary>
                Header section with logo and application title.
            </summary>
        -->
		<Border Grid.Row="0" Background="White" Padding="20" BorderBrush="#E5E7EB" BorderThickness="0,0,0,1">
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
				<Image Source="avares://EasySave.GUI/Assets/logo.png" Width="60" Height="60" Margin="0,0,16,0"/>
				<StackPanel VerticalAlignment="Center">
					<TextBlock Text="EasySave 3.0" FontSize="20" FontWeight="SemiBold" Foreground="#111827"/>
					<TextBlock Name="HeaderDescriptionText" FontSize="11" Foreground="#6B7280"/>
				</StackPanel>
			</StackPanel>
		</Border>

		<!--
            <summary>
                Main content area with TabControl for navigation.
            </summary>
        -->
		<TabControl Name="MainTabControl" Grid.Row="1" Margin="24,20,24,20" Background="Transparent">

			<!--
                <summary>
                    Tab: Execute backups
                </summary>
            -->
		<TabItem Name="TabExecuteItem" Header="Exécuter">
				<Border Background="#FAFAFA" Padding="24" BorderBrush="#E5E7EB" BorderThickness="1">
					<Grid RowDefinitions="Auto,Auto,*,Auto">
						<TextBlock Grid.Row="0" Name="ExecuteTitleText" Text="Lancer des sauvegardes"
                                       FontSize="16" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,16"/>

						<Border Grid.Row="1" Background="White" CornerRadius="4" Padding="12,8" Margin="0,0,0,12">
							<Grid ColumnDefinitions="*,Auto,Auto">
								<TextBlock Grid.Column="0" Name="ItemsCountText" Text="0 sauvegarde(s)"
                                          FontSize="11" Foreground="#6B7280" VerticalAlignment="Center"/>
								<TextBlock Grid.Column="1" Name="PerPageText" Text="Par page:" FontSize="11" Foreground="#6B7280"
                                          VerticalAlignment="Center" Margin="0,0,8,0"/>
								<ComboBox Grid.Column="2" Name="ItemsPerPageComboBox" SelectedIndex="1"
                                         MinWidth="80" Height="28">
									<ComboBoxItem Content="5"/>
									<ComboBoxItem Content="10"/>
									<ComboBoxItem Content="20"/>
									<ComboBoxItem Content="50"/>
								</ComboBox>
							</Grid>
						</Border>

						<Border Grid.Row="2" Background="White" CornerRadius="4" Padding="12" MaxHeight="350">
							<ListBox Name="JobListBox" SelectionMode="Multiple" BorderThickness="0" Background="Transparent"
                                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
						</Border>

						<StackPanel Grid.Row="3" Margin="0,16,0,0" Spacing="12">
							<Button Name="ExecuteButton" Content="Lancer les sauvegardes sélectionnées"
                                    HorizontalAlignment="Center" Padding="28,14"/>

							<Border Name="ProgressArea" Background="White" CornerRadius="6"
                                Padding="20" Margin="0,0,0,0" IsVisible="False"
                                BorderBrush="#E5E7EB" BorderThickness="1" MaxHeight="400">
								<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
									<StackPanel Spacing="16">

										<!-- Barre de progression individuelle par travail -->
										<ItemsControl Name="JobProgressList">
											<ItemsControl.ItemTemplate>
												<DataTemplate DataType="models:JobProgressItem">
													<Border Padding="16" Margin="0,0,0,10"
                                                            Background="#FAFAFA"
                                                            BorderBrush="#E5E7EB" BorderThickness="1"
                                                            CornerRadius="8">
														<StackPanel Spacing="10">

															<!-- Ligne 1 : Nom + Badge d'état -->
															<Grid ColumnDefinitions="*,Auto">
																<TextBlock Grid.Column="0"
                                                                           Text="{Binding JobName}"
                                                                           FontSize="14" FontWeight="SemiBold"
                                                                           Foreground="#1F2937"
                                                                           VerticalAlignment="Center"/>
																<StackPanel Grid.Column="1" Orientation="Horizontal">
																	<Border Background="#10B981" IsVisible="{Binding IsActive}"
                                                                            CornerRadius="10" Padding="10,4">
															<TextBlock Text="{Binding StatusInProgressText}" FontSize="11"
                                                                                   Foreground="White" FontWeight="SemiBold"/>
																	</Border>
																	<Border Background="#F59E0B" IsVisible="{Binding IsPaused}"
                                                                            CornerRadius="10" Padding="10,4">
															<TextBlock Text="{Binding StatusPausedText}" FontSize="11"
                                                                                   Foreground="White" FontWeight="SemiBold"/>
																	</Border>
																	<Border Background="#3B82F6" IsVisible="{Binding IsCompleted}"
                                                                            CornerRadius="10" Padding="10,4">
															<TextBlock Text="{Binding StatusCompletedText}" FontSize="11"
                                                                                   Foreground="White" FontWeight="SemiBold"/>
																	</Border>
																	<Border Background="#EF4444" IsVisible="{Binding IsError}"
                                                                            CornerRadius="10" Padding="10,4">
															<TextBlock Text="{Binding StatusErrorText}" FontSize="11"
                                                                                   Foreground="White" FontWeight="SemiBold"/>
																	</Border>
																	<Border Background="#6B7280" IsVisible="{Binding IsStopped}"
                                                                            CornerRadius="10" Padding="10,4">
															<TextBlock Text="{Binding StatusStoppedText}" FontSize="11"
                                                                                   Foreground="White" FontWeight="SemiBold"/>
																	</Border>
																</StackPanel>
															</Grid>

															<!-- Ligne 2 : Barre de progression + pourcentage -->
															<Grid ColumnDefinitions="*,80">
																<ProgressBar Grid.Column="0"
                                                                             Value="{Binding Progress}"
                                                                             Height="10" Minimum="0" Maximum="100"
                                                                             Margin="0,0,12,0" CornerRadius="5"
                                                                             Background="#E5E7EB"/>
																<TextBlock Grid.Column="1"
                                                                           Text="{Binding ProgressText}"
                                                                           FontSize="13" FontWeight="Bold"
                                                                           Foreground="#374151"
                                                                           VerticalAlignment="Center"
                                                                           TextAlignment="Right"/>
															</Grid>

															<!-- Ligne 3 : Compteur fichiers + fichier en cours -->
															<Grid ColumnDefinitions="Auto,*">
																<TextBlock Grid.Column="0"
                                                                           Text="{Binding FilesCountText}"
                                                                           FontSize="11" Foreground="#6B7280"
                                                                           FontWeight="Medium" VerticalAlignment="Center"/>
																<TextBlock Grid.Column="1"
                                                                           Text="{Binding CurrentFile}"
                                                                           FontSize="11" Foreground="#9CA3AF"
                                                                           TextTrimming="CharacterEllipsis"
                                                                           HorizontalAlignment="Right"
                                                                           VerticalAlignment="Center"/>
															</Grid>

															<!-- Ligne 4 : Boutons de contrôle individuels -->
															<StackPanel Orientation="Horizontal" Spacing="8"
                                                                    IsVisible="{Binding CanControl}">
																<Button Command="{Binding PauseCommand}"
                                                                    IsVisible="{Binding IsActive}"
                                                                    Content="{Binding BtnPauseText}"
                                                                    Background="#F59E0B" Foreground="White"
                                                                    Padding="14,7" FontSize="12"
                                                                    FontWeight="SemiBold" CornerRadius="5"
                                                                    MinWidth="100"/>
																<Button Command="{Binding ResumeCommand}"
                                                                    IsVisible="{Binding IsPaused}"
                                                                    Content="{Binding BtnResumeText}"
                                                                    Background="#10B981" Foreground="White"
                                                                    Padding="14,7" FontSize="12"
                                                                    FontWeight="SemiBold" CornerRadius="5"
                                                                    MinWidth="100"/>
																<Button Command="{Binding StopCommand}"
                                                                    Content="{Binding BtnStopText}"
                                                                    Background="#EF4444" Foreground="White"
                                                                    Padding="14,7" FontSize="12"
                                                                    FontWeight="SemiBold" CornerRadius="5"
                                                                    MinWidth="100"/>
															</StackPanel>

														</StackPanel>
													</Border>
												</DataTemplate>
											</ItemsControl.ItemTemplate>
										</ItemsControl>

										<!-- Boutons de contrôle globaux (tous les travaux) -->
									<Border Name="GlobalControlsSection" BorderBrush="#E5E7EB" BorderThickness="0,1,0,0" Padding="0,12,0,0" IsVisible="False">
											<StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="12">
												<TextBlock Name="GlobalControlLabel" Text="Contrôle global :" FontSize="12" Foreground="#6B7280"
                                                           VerticalAlignment="Center" Margin="0,0,4,0"/>
												<Button Name="PauseButton" Content="⏸  Tout mettre en pause"
                                                        Padding="16,9" Background="#F59E0B" Foreground="White"
                                                        FontSize="12" FontWeight="SemiBold" CornerRadius="5"/>
												<Button Name="ResumeButton" Content="▶  Tout reprendre"
                                                        Padding="16,9" Background="#10B981" Foreground="White"
                                                        FontSize="12" FontWeight="SemiBold" CornerRadius="5"
                                                        IsVisible="False"/>
												<Button Name="StopButton" Content="⏹  Tout arrêter"
                                                        Padding="16,9" Background="#EF4444" Foreground="White"
                                                        FontSize="12" FontWeight="SemiBold" CornerRadius="5"/>
											</StackPanel>
										</Border>

									</StackPanel>
								</ScrollViewer>
							</Border>
						</StackPanel>
					</Grid>
				</Border>
			</TabItem>

			<!--
                <summary>
                    Tab: Create new backup job
                </summary>
            -->
			<TabItem Name="TabCreateItem" Header="Créer">
				<Border Background="#FAFAFA" Padding="24" BorderBrush="#E5E7EB" BorderThickness="1">
					<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
						<StackPanel MaxWidth="600" Margin="0,0,0,80">
							<TextBlock Name="CreateTitleText" Text="Nouveau plan" FontSize="16"
                                       FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,16"/>

							<StackPanel Spacing="12">
								<StackPanel>
									<TextBlock Name="JobNameLabel" Text="Nom" FontSize="12" Foreground="#6B7280" Margin="0,0,0,4"/>
									<TextBox Name="JobNameTextBox" Watermark="Ex: Sauvegarde Documents"/>
								</StackPanel>

								<StackPanel>
									<TextBlock Name="SourceLabel" Text="Source" FontSize="12" Foreground="#6B7280" Margin="0,0,0,4"/>
									<Grid ColumnDefinitions="*,Auto">
										<TextBox Name="SourcePathTextBox" Grid.Column="0" Margin="0,0,8,0"/>
										<Button Name="BrowseSourceButton" Grid.Column="1" Width="95" Padding="12,10"/>
									</Grid>
								</StackPanel>

								<StackPanel>
									<TextBlock Name="TargetLabel" Text="Destination" FontSize="12" Foreground="#6B7280" Margin="0,0,0,4"/>
									<Grid ColumnDefinitions="*,Auto">
										<TextBox Name="TargetPathTextBox" Grid.Column="0" Margin="0,0,8,0"/>
										<Button Name="BrowseTargetButton" Grid.Column="1" Width="95" Padding="12,10"/>
									</Grid>
								</StackPanel>

								<StackPanel>
									<TextBlock Name="TypeLabel" Text="Type" FontSize="12" Foreground="#6B7280" Margin="0,0,0,4"/>
									<ComboBox Name="TypeComboBox" SelectedIndex="0"/>
								</StackPanel>
							</StackPanel>

							<Button Name="CreateJobButton" Content="Créer"
                                    HorizontalAlignment="Center" Margin="0,24,0,0" Padding="32,12"/>
						</StackPanel>
					</ScrollViewer>
				</Border>
			</TabItem>

			<!--
                <summary>
                    Tab: Manage backup jobs
                </summary>
            -->
			<TabItem Name="TabManageItem" Header="Gérer">
				<Border Background="#FAFAFA" Padding="24" BorderBrush="#E5E7EB" BorderThickness="1">
					<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
						<Grid RowDefinitions="Auto,*,Auto" Margin="0,0,0,80">
							<TextBlock Name="ManageTitleText" Grid.Row="0" Text="Gérer les plans"
                                   FontSize="16" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,16"/>

							<Border Grid.Row="1" Background="White" CornerRadius="4" Padding="12" MaxHeight="400">
								<ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
									<ListBox Name="ManageJobListBox" BorderThickness="0" Background="Transparent"/>
								</ScrollViewer>
							</Border>

							<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center"
                                    Spacing="12" Margin="0,16,0,0">
								<Button Name="ViewDetailsButton" Content="Détails"/>
								<Button Name="DeleteJobButton" Content="Supprimer"/>
							</StackPanel>
						</Grid>
					</ScrollViewer>
				</Border>
			</TabItem>

			<!--
                <summary>
                    Tab: Application settings
                </summary>
            -->
			<TabItem Name="TabSettingsItem" Header="Paramètres">
				<Border Background="#FAFAFA" BorderBrush="#E5E7EB" BorderThickness="1">
					<Grid ColumnDefinitions="200,*" RowDefinitions="*">
						
						<!-- SIDEBAR -->
						<Border Grid.Column="0" Grid.Row="0" Background="White" BorderBrush="#E5E7EB" BorderThickness="0,0,1,0" Padding="0">
							<StackPanel Spacing="0">
								<Button Name="PathsNavButton" Classes="sidebar-button" Content="Chemins" HorizontalContentAlignment="Left" Padding="20,16" Background="Transparent" BorderThickness="0"/>
								<Button Name="SecurityNavButton" Classes="sidebar-button" Content="Sécurité" HorizontalContentAlignment="Left" Padding="20,16" Background="Transparent" BorderThickness="0"/>
								<Button Name="ThreadingNavButton" Classes="sidebar-button" Content="Multi-threading" HorizontalContentAlignment="Left" Padding="20,16" Background="Transparent" BorderThickness="0"/>
								<Button Name="LogsNavButton" Classes="sidebar-button" Content="Journalisation" HorizontalContentAlignment="Left" Padding="20,16" Background="Transparent" BorderThickness="0"/>
							</StackPanel>
						</Border>
						
						<!-- CONTENU -->
						<ScrollViewer Grid.Column="1" Grid.Row="0" Padding="32" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
							<StackPanel MaxWidth="700">
								
								<!-- Section Chemins -->
								<StackPanel Name="PathsSection" Margin="0,0,0,100">
<TextBlock Name="PathsSectionTitle" Text="Chemins" FontSize="20" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,20"/>
									
									<StackPanel Spacing="16">
										<StackPanel>
													<TextBlock Name="LabelLogsFolderText" Text="Dossier logs" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
											<Grid ColumnDefinitions="*,Auto">
												<TextBox Name="LogsPathTextBox" Grid.Column="0" IsReadOnly="True" Margin="0,0,8,0"/>
												<Button Name="BrowseLogsButton" Grid.Column="1" Width="100" Padding="10,8" Content="Parcourir"/>
											</Grid>
										</StackPanel>
										
										<StackPanel>
													<TextBlock Name="LabelConfigFileText" Text="Fichier config" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
											<Grid ColumnDefinitions="*,Auto">
												<TextBox Name="ConfigPathTextBox" Grid.Column="0" IsReadOnly="True" Margin="0,0,8,0"/>
												<Button Name="BrowseConfigButton" Grid.Column="1" Width="100" Padding="10,8" Content="Parcourir"/>
											</Grid>
										</StackPanel>
										
										<StackPanel>
													<TextBlock Name="LabelStateFileText" Text="Fichier état" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
											<Grid ColumnDefinitions="*,Auto">
												<TextBox Name="StatePathTextBox" Grid.Column="0" IsReadOnly="True" Margin="0,0,8,0"/>
												<Button Name="BrowseStateButton" Grid.Column="1" Width="100" Padding="10,8" Content="Parcourir"/>
											</Grid>
										</StackPanel>
										
										<StackPanel>
											<TextBlock Name="LanguageInterfaceText" Text="Langue de l'interface" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
											<ComboBox Name="LanguageComboBox" SelectedIndex="0" HorizontalAlignment="Stretch"/>
										</StackPanel>
									</StackPanel>
								</StackPanel>
								
								<!-- Section Sécurité -->
								<StackPanel Name="SecuritySection" IsVisible="False" Margin="0,0,0,100">
<TextBlock Name="SecuritySectionTitle" Text="Sécurité" FontSize="20" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,20"/>
									
									<StackPanel Spacing="16">
										<StackPanel>
													<TextBlock Name="LabelEncryptionKeyText" Text="Clé de cryptage" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
											<Grid ColumnDefinitions="*,Auto">
												<TextBox Name="EncryptionKeyTextBox" Grid.Column="0" IsReadOnly="True" Margin="0,0,8,0"/>
												<Button Name="EditEncryptionKeyButton" Grid.Column="1" Width="100" Padding="10,8" Content="Modifier"/>
											</Grid>
										</StackPanel>
										
										<StackPanel>
													<TextBlock Name="LabelExtensionsToEncryptText" Text="Extensions à chiffrer" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
										<ListBox Name="EncryptionExtensionsListBox" Height="120" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
											<Grid ColumnDefinitions="*,Auto,Auto" Margin="0,8,0,0">
												<TextBox Name="AddExtensionTextBox" Grid.Column="0" Watermark=".ext" Margin="0,0,8,0"/>
												<Button Name="AddExtensionButton" Grid.Column="1" Content="+" Width="40" Padding="0" Margin="0,0,8,0"/>
												<Button Name="RemoveExtensionButton" Grid.Column="2" Content="-" Width="40" Padding="0"/>
											</Grid>
										</StackPanel>
										
										<StackPanel>
													<TextBlock Name="LabelBusinessProcessText" Text="Processus métier" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
													<TextBlock Name="BusinessProcessDescText" Text="Bloque la sauvegarde si un de ces processus est en cours d'exécution" FontSize="11" Foreground="#6B7280" Margin="0,0,0,8"/>
										<ListBox Name="WatchedProcessesListBox" Height="120" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
											<Grid ColumnDefinitions="*,Auto,Auto" Margin="0,8,0,0">
												<TextBox Name="AddProcessTextBox" Grid.Column="0" Watermark="notepad" Margin="0,0,8,0"/>
												<Button Name="AddProcessButton" Grid.Column="1" Content="+" Width="40" Padding="0" Margin="0,0,8,0"/>
												<Button Name="RemoveProcessButton" Grid.Column="2" Content="-" Width="40" Padding="0"/>
											</Grid>
										</StackPanel>
									</StackPanel>
								</StackPanel>
								
								<!-- Section Multi-threading -->
								<StackPanel Name="ThreadingSection" IsVisible="False" Margin="0,0,0,100">
<TextBlock Name="ThreadingSectionTitle" Text="Multi-threading" FontSize="20" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,20"/>
									
									<StackPanel Spacing="16">
										<StackPanel>
													<TextBlock Name="LabelPriorityExtensionsText" Text="Extensions prioritaires" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
													<TextBlock Name="PriorityExtensionsDescText" Text="Ces fichiers seront traités en premier" FontSize="11" Foreground="#6B7280" Margin="0,0,0,8"/>
										<ListBox Name="PriorityExtensionsListBox" Height="120" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
											<Grid ColumnDefinitions="*,Auto,Auto" Margin="0,8,0,0">
												<TextBox Name="AddPriorityExtensionTextBox" Grid.Column="0" Watermark=".docx" Margin="0,0,8,0"/>
												<Button Name="AddPriorityExtensionButton" Grid.Column="1" Content="+" Width="40" Padding="0" Margin="0,0,8,0"/>
												<Button Name="RemovePriorityExtensionButton" Grid.Column="2" Content="-" Width="40" Padding="0"/>
											</Grid>
										</StackPanel>
										
										<StackPanel>
													<TextBlock Name="LabelMaxSimultaneousJobsText" Text="Travaux simultanés maximum" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
														<Grid ColumnDefinitions="120,*">
															<TextBox Name="MaxJobsTextBox" Grid.Column="0" Text="3" Watermark="3"/>
															<TextBlock Name="MaxJobsRangeText" Grid.Column="1" Text="(1 à 10 travaux)" FontSize="11" Foreground="#9CA3AF" VerticalAlignment="Center" Margin="12,0,0,0"/>
											</Grid>
										</StackPanel>
										
										<StackPanel>
													<TextBlock Name="LabelFileSizeThresholdText" Text="Seuil fichier lourd (MB)" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
													<TextBlock Name="FileSizeThresholdDescText" Text="Les fichiers plus lourds que ce seuil seront traités séquentiellement" FontSize="11" Foreground="#6B7280" Margin="0,0,0,8"/>
														<Grid ColumnDefinitions="120,*">
															<TextBox Name="FileSizeThresholdTextBox" Grid.Column="0" Text="10" Watermark="10"/>
															<TextBlock Name="MegabytesText" Grid.Column="1" Text="mégaoctets" FontSize="11" Foreground="#9CA3AF" VerticalAlignment="Center" Margin="12,0,0,0"/>
											</Grid>
										</StackPanel>
										
										<Button Name="SaveThreadingSettingsButton" Content="Enregistrer les paramètres" Background="#3B82F6" Foreground="White" HorizontalAlignment="Left" Padding="20,10" Margin="0,8,0,0"/>
									</StackPanel>
								</StackPanel>
								
								<!-- Section Logs -->
								<StackPanel Name="LogsSection" IsVisible="False" Margin="0,0,0,100">
									<TextBlock Name="LogsSectionTitle" Text="Journalisation" FontSize="20" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,20"/>
									
									<StackPanel Spacing="16">
										<StackPanel>
											<TextBlock Name="LabelLogTargetText" Text="Cible des logs" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
											<ComboBox Name="LogTargetComboBox" SelectedIndex="2" HorizontalAlignment="Stretch">
												<ComboBoxItem Content="Local uniquement"/>
												<ComboBoxItem Content="Serveur (Docker) uniquement"/>
												<ComboBoxItem Content="Local + Serveur"/>
											</ComboBox>
										</StackPanel>

										<StackPanel>
											<TextBlock Name="LabelLogFormatText" Text="Format des logs" FontSize="12" FontWeight="SemiBold" Foreground="#111827" Margin="0,0,0,6"/>
											<TextBlock Name="LogFormatDescText" Text="Choisissez l'extension de vos fichiers journaux." FontSize="11" Foreground="#6B7280" Margin="0,0,0,8"/>
											<ComboBox Name="LogFormatComboBox" SelectedIndex="0" HorizontalAlignment="Stretch">
												<ComboBoxItem Content="JSON"/>
												<ComboBoxItem Content="XML"/>
											</ComboBox>
										</StackPanel>
									</StackPanel>
								</StackPanel>
							</StackPanel>
						</ScrollViewer>
					</Grid>
				</Border>
			</TabItem>
		</TabControl>

		<!--
            <summary>
                Footer section with version and copyright.
            </summary>
        -->
		<Border Grid.Row="2" Background="#F9FAFB" Padding="16,12" BorderBrush="#E5E7EB" BorderThickness="0,1,0,0">
			<Grid>
				<TextBlock Name="FooterText" Foreground="#6B7280" FontSize="11" HorizontalAlignment="Left" VerticalAlignment="Center"/>
				<TextBlock Text="EasySave v3.0 © 2026" Foreground="#9CA3AF" FontSize="11" HorizontalAlignment="Right" VerticalAlignment="Center"/>
			</Grid>
		</Border>
	</Grid>
</Window>
