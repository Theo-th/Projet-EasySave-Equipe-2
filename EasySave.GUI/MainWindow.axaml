<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
        x:Class="EasySave.GUI.MainWindow"
        Title="EasySave 3.0 - ProSoft"
        Icon="/Assets/logo.ico"
        Width="1000" Height="700"
        WindowStartupLocation="CenterScreen"
        Background="#F3F4F6">
	<Window.Styles>
		<Style Selector="TabItem">
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="Padding" Value="12 8"/>
			<Setter Property="Margin" Value="0 0 8 0"/>
		</Style>
		<Style Selector="Button">
			<Setter Property="Cursor" Value="Hand"/>
		</Style>
	</Window.Styles>

	<Grid RowDefinitions="Auto, *">
		<Border Grid.Row="0" Background="#111827" Padding="20">
			<StackPanel Orientation="Horizontal" VerticalAlignment="Center">
				<TextBlock Text="EasySave" Foreground="White" FontSize="24" FontWeight="Bold" Margin="0,0,10,0"/>
				<Border Background="#3B82F6" CornerRadius="4" Padding="6,2" VerticalAlignment="Center">
					<TextBlock Text="v3.0" Foreground="White" FontSize="12" FontWeight="Bold"/>
				</Border>
				<TextBlock x:Name="HeaderDescriptionText" Text="Gestionnaire de sauvegardes" Foreground="#9CA3AF" VerticalAlignment="Center" Margin="20,0,0,0"/>
			</StackPanel>
		</Border>

		<TabControl Grid.Row="1" Margin="20" Background="White" CornerRadius="8" Padding="0" x:Name="MainTabControl">

			<TabItem Header="Tableau de bord">
				<Grid ColumnDefinitions="*, 300" Margin="20">
					<Grid Grid.Column="0" RowDefinitions="Auto, *, Auto" Margin="0,0,20,0">
						<TextBlock x:Name="ExecuteTitleText" Text="Travaux de sauvegarde" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>
						<TextBlock x:Name="ExecuteDescText" Text="Sélectionnez les travaux à exécuter" FontSize="12" Foreground="#6B7280" Margin="0,0,0,10" IsVisible="False"/>

						<ListBox x:Name="JobListBox" Grid.Row="1" Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="4">
							<ListBox.ItemTemplate>
								<DataTemplate>
									<Border Padding="10" BorderBrush="#E5E7EB" BorderThickness="0,0,0,1">
										<TextBlock Text="{Binding}" FontWeight="Medium"/>
									</Border>
								</DataTemplate>
							</ListBox.ItemTemplate>
						</ListBox>

						<StackPanel Grid.Row="2" Orientation="Horizontal" Spacing="10" Margin="0,15,0,0">
							<Button x:Name="PlayButton" Content="Exécuter" Background="#10B981" Foreground="White" Padding="15,8"/>
							<Button x:Name="PauseButton" Content="Pause" Background="#F59E0B" Foreground="White" Padding="15,8"/>
							<Button x:Name="ResumeButton" Content="Reprendre" Background="#3B82F6" Foreground="White" Padding="15,8"/>
							<Button x:Name="StopButton" Content="Stop" Background="#EF4444" Foreground="White" Padding="15,8"/>
						</StackPanel>
					</Grid>

					<Border Grid.Column="1" Background="#F3F4F6" CornerRadius="8" Padding="15">
						<StackPanel Spacing="15">
							<TextBlock Text="État en temps réel" FontSize="16" FontWeight="Bold" Foreground="#1F2937"/>

							<Border x:Name="ProgressArea" Background="White" CornerRadius="6" Padding="10" BorderBrush="#E5E7EB" BorderThickness="1">
								<StackPanel Spacing="8">
									<TextBlock x:Name="StatusText" Text="Prêt" FontWeight="Bold" Foreground="#4B5563"/>
									<ProgressBar x:Name="ProgressBar" Minimum="0" Maximum="100" Height="10" Foreground="#3B82F6"/>
									<TextBlock x:Name="ProgressText" Text="0%" HorizontalAlignment="Right" FontSize="12"/>

									<Separator Background="#E5E7EB" Height="1"/>

									<TextBlock Text="Fichier en cours :" FontSize="12" Foreground="#6B7280"/>
									<TextBlock x:Name="CurrentFileText" Text="-" TextTrimming="CharacterEllipsis" FontSize="12"/>

									<Grid ColumnDefinitions="*,*">
										<StackPanel Grid.Column="0">
											<TextBlock Text="Fichiers restants" FontSize="10" Foreground="#9CA3AF"/>
											<TextBlock x:Name="ItemsCountText" Text="0" FontWeight="Bold"/>
										</StackPanel>
									</Grid>
								</StackPanel>
							</Border>

							<TextBlock x:Name="FooterText" Text="Aucune activité" FontSize="11" Foreground="#9CA3AF" TextWrapping="Wrap"/>
						</StackPanel>
					</Border>
				</Grid>
			</TabItem>

			<TabItem Header="Gestion des travaux">
				<Grid ColumnDefinitions="*, *" Margin="20">
					<Grid Grid.Column="0" RowDefinitions="Auto, *" Margin="0,0,20,0">
						<TextBlock x:Name="ManageTitleText" Text="Travaux existants" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>
						<TextBlock x:Name="ManageDescText" Text="Liste des travaux configurés" FontSize="12" Foreground="#6B7280" Margin="0,0,0,10" IsVisible="False"/>

						<ListBox x:Name="ManageJobListBox" Grid.Row="1" Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="4"/>

						<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10" Margin="0,10,0,0">
							<Button x:Name="ViewDetailsButton" Content="Voir détails" Background="#6B7280" Foreground="White"/>
							<Button x:Name="DeleteJobButton" Content="Supprimer la sélection" Background="#EF4444" Foreground="White"/>
						</StackPanel>
					</Grid>

					<Border Grid.Column="1" Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="8" Padding="20">
						<StackPanel Spacing="12">
							<TextBlock x:Name="CreateTitleText" Text="Créer un nouveau travail" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

							<StackPanel>
								<TextBlock x:Name="JobNameLabel" Text="Nom du travail" FontWeight="SemiBold" Margin="0,0,0,4"/>
								<TextBox x:Name="JobNameTextBox" Watermark="Ex: Sauvegarde Documents"/>
							</StackPanel>

							<StackPanel>
								<TextBlock x:Name="SourceLabel" Text="Dossier Source" FontWeight="SemiBold" Margin="0,0,0,4"/>
								<Grid ColumnDefinitions="*, Auto">
									<TextBox x:Name="SourcePathTextBox" Watermark="C:\Users\Documents" Margin="0,0,5,0"/>
									<Button x:Name="BrowseSourceButton" Grid.Column="1" Content="..." Width="30"/>
								</Grid>
							</StackPanel>

							<StackPanel>
								<TextBlock x:Name="TargetLabel" Text="Dossier Cible" FontWeight="SemiBold" Margin="0,0,0,4"/>
								<Grid ColumnDefinitions="*, Auto">
									<TextBox x:Name="DestPathTextBox" Watermark="D:\Backups" Margin="0,0,5,0"/>
									<Button x:Name="BrowseTargetButton" Grid.Column="1" Content="..." Width="30"/>
								</Grid>
							</StackPanel>

							<StackPanel>
								<TextBlock x:Name="TypeLabel" Text="Type de sauvegarde" FontWeight="SemiBold" Margin="0,0,0,4"/>
								<ComboBox x:Name="TypeComboBox" HorizontalAlignment="Stretch">
									<ComboBoxItem Content="Complète (Full)"/>
									<ComboBoxItem Content="Différentielle"/>
								</ComboBox>
							</StackPanel>

							<Button x:Name="CreateJobButton" Content="Créer le travail" Background="#3B82F6" Foreground="White" HorizontalAlignment="Stretch" Margin="0,10,0,0"/>
						</StackPanel>
					</Border>
				</Grid>
			</TabItem>

			<TabItem Header="Paramètres">
				<ScrollViewer>
					<StackPanel Margin="20" Spacing="20">
						<TextBlock x:Name="SettingsTitleText" Text="Configuration Générale" FontSize="18" FontWeight="Bold" Foreground="#111827"/>

						<Grid ColumnDefinitions="*, 20, *" RowDefinitions="Auto, Auto">

							<StackPanel Grid.Column="0" Spacing="15">
								<Border Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="6" Padding="15">
									<StackPanel Spacing="10">
										<TextBlock x:Name="LanguageSectionText" Text="Application" FontSize="14" FontWeight="Bold" Foreground="#374151"/>

										<StackPanel>
											<TextBlock x:Name="LanguageInterfaceText" Text="Langue" FontSize="12" Foreground="#6B7280" Margin="0,0,0,4"/>
											<TextBlock x:Name="LanguageDescText" Text="Langue" FontSize="10" Foreground="#6B7280" Margin="0,0,0,4" IsVisible="False"/>
											<ComboBox x:Name="LanguageComboBox" HorizontalAlignment="Stretch">
												<ComboBoxItem Content="Français"/>
												<ComboBoxItem Content="English"/>
											</ComboBox>
										</StackPanel>

										<StackPanel>
											<TextBlock Text="Format des logs locaux" FontSize="12" Foreground="#6B7280" Margin="0,0,0,4"/>
											<ComboBox x:Name="LogFormatComboBox" HorizontalAlignment="Stretch">
												<ComboBoxItem Content="JSON"/>
												<ComboBoxItem Content="XML"/>
											</ComboBox>
										</StackPanel>

										<StackPanel>
											<TextBlock Text="Cible des logs (Centralisation)" FontSize="12" FontWeight="Bold" Foreground="#111827" Margin="0,4,0,4"/>
											<TextBlock Text="Où souhaitez-vous enregistrer les journaux ?" FontSize="10" Foreground="#6B7280" Margin="0,0,0,4"/>
											<ComboBox Name="LogTargetComboBox" SelectedIndex="2" HorizontalAlignment="Stretch">
												<ComboBoxItem Content="Local uniquement"/>
												<ComboBoxItem Content="Serveur (Docker) uniquement"/>
												<ComboBoxItem Content="Les deux (Local + Serveur)"/>
											</ComboBox>
										</StackPanel>

										<StackPanel>
											<TextBlock Text="Adresse IP du Serveur" FontSize="12" FontWeight="Bold" Foreground="#111827" Margin="0,4,0,4"/>
											<TextBlock Text="Ex: 192.168.1.25 ou localhost" FontSize="10" Foreground="#6B7280" Margin="0,0,0,4"/>
											<Grid ColumnDefinitions="*, Auto">
												<TextBox x:Name="ServerIpTextBox" Watermark="localhost" Margin="0,0,5,0"/>
												<Button x:Name="SaveIpButton" Grid.Column="1" Content="OK" Background="#3B82F6" Foreground="White"/>
											</Grid>
										</StackPanel>
										
									</StackPanel>
								</Border>

								<Border Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="6" Padding="15">
									<StackPanel Spacing="10">
										<TextBlock Text="Logiciel Métier (Interdiction)" FontSize="14" FontWeight="Bold" Foreground="#374151"/>
										<TextBlock Text="Si détecté, la sauvegarde se met en pause." FontSize="11" Foreground="#6B7280"/>

										<Grid ColumnDefinitions="*, Auto">
											<TextBox x:Name="AddProcessTextBox" Watermark="Ex: notepad" Margin="0,0,10,0"/>
											<Button x:Name="AddProcessButton" Grid.Column="1" Content="Ajouter"/>
										</Grid>

										<ListBox x:Name="WatchedProcessesListBox" Height="80" Background="White"/>
										<Button x:Name="RemoveProcessButton" Content="Retirer sélection" Background="#EF4444" Foreground="White" HorizontalAlignment="Right"/>
									</StackPanel>
								</Border>
							</StackPanel>

							<StackPanel Grid.Column="2" Spacing="15">
								<Border Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="6" Padding="15">
									<StackPanel Spacing="10">
										<TextBlock Text="Chiffrement (CryptoSoft)" FontSize="14" FontWeight="Bold" Foreground="#374151"/>

										<StackPanel>
											<TextBlock Text="Clé de chiffrement" FontSize="12" Foreground="#6B7280"/>
											<Grid ColumnDefinitions="*, Auto">
												<TextBox x:Name="EncryptionKeyTextBox" PasswordChar="*" Margin="0,0,10,0"/>
												<Button x:Name="EditEncryptionKeyButton" Grid.Column="1" Content="Modifier"/>
											</Grid>
										</StackPanel>

										<TextBlock Text="Extensions à chiffrer" FontSize="12" Foreground="#6B7280" Margin="0,5,0,0"/>
										<Grid ColumnDefinitions="*, Auto">
											<TextBox x:Name="AddExtensionTextBox" Watermark=".txt" Margin="0,0,10,0"/>
											<Button x:Name="AddExtensionButton" Grid.Column="1" Content="+"/>
										</Grid>

										<ListBox x:Name="EncryptionExtensionsListBox" Height="80" Background="White"/>
										<Button x:Name="RemoveExtensionButton" Content="Retirer sélection" Background="#EF4444" Foreground="White" HorizontalAlignment="Right"/>
									</StackPanel>
								</Border>

								<Border Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="6" Padding="15">
									<StackPanel Spacing="10">
										<TextBlock Text="Chemins des fichiers" FontSize="14" FontWeight="Bold" Foreground="#374151"/>

										<StackPanel>
											<TextBlock x:Name="LogsPathLabelText" Text="Dossier Logs" FontSize="11" Foreground="#6B7280"/>
											<Grid ColumnDefinitions="*, Auto">
												<TextBox x:Name="LogsPathTextBox" IsReadOnly="True" Background="#E5E7EB" Margin="0,0,5,0"/>
												<Button x:Name="BrowseLogsButton" Grid.Column="1" Content="..." Width="30"/>
											</Grid>
											<TextBlock x:Name="LogsPathValueText" IsVisible="False"/>
										</StackPanel>

										<StackPanel>
											<TextBlock x:Name="ConfigLabelText" Text="Fichier Config" FontSize="11" Foreground="#6B7280"/>
											<Grid ColumnDefinitions="*, Auto">
												<TextBox x:Name="ConfigPathTextBox" IsReadOnly="True" Background="#E5E7EB" Margin="0,0,5,0"/>
												<Button x:Name="BrowseConfigButton" Grid.Column="1" Content="..." Width="30"/>
											</Grid>
											<TextBlock x:Name="ConfigPathValueText" IsVisible="False"/>
										</StackPanel>

										<StackPanel>
											<TextBlock x:Name="StateLabelText" Text="Fichier État" FontSize="11" Foreground="#6B7280"/>
											<Grid ColumnDefinitions="*, Auto">
												<TextBox x:Name="StatePathTextBox" IsReadOnly="True" Background="#E5E7EB" Margin="0,0,5,0"/>
												<Button x:Name="BrowseStateButton" Grid.Column="1" Content="..." Width="30"/>
											</Grid>
											<TextBlock x:Name="StatePathValueText" IsVisible="False"/>
										</StackPanel>
									</StackPanel>
								</Border>

								<Border Background="#F9FAFB" BorderBrush="#E5E7EB" BorderThickness="1" CornerRadius="6" Padding="15">
									<StackPanel Spacing="10">
										<TextBlock x:Name="AboutSectionText" Text="À propos" FontSize="14" FontWeight="Bold" Foreground="#374151"/>
										<StackPanel Orientation="Horizontal" Spacing="5">
											<TextBlock x:Name="VersionLabelText" Text="Version :" FontWeight="SemiBold"/>
											<TextBlock Text="3.0"/>
										</StackPanel>
										<TextBlock Text="© 2026 ProSoft" FontSize="11" Foreground="#9CA3AF"/>
									</StackPanel>
								</Border>
							</StackPanel>
						</Grid>
					</StackPanel>
				</ScrollViewer>
			</TabItem>
		</TabControl>
	</Grid>
</Window>
